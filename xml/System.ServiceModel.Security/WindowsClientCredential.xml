<Type Name="WindowsClientCredential" FullName="System.ServiceModel.Security.WindowsClientCredential">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="faf5d699a119fe8d6c90f217425240488b353370" />
    <Meta Name="ms.sourcegitcommit" Value="5a49536d99d2d0b54e4cb7280870903e043272df" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ja-JP" />
    <Meta Name="ms.lasthandoff" Value="07/03/2018" />
    <Meta Name="ms.locfileid" Value="37614465" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class WindowsClientCredential" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit WindowsClientCredential extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.ServiceModel.Security.WindowsClientCredential" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class WindowsClientCredential" />
  <TypeSignature Language="C++ CLI" Value="public ref class WindowsClientCredential sealed" />
  <TypeSignature Language="F#" Value="type WindowsClientCredential = class" />
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="c3051-101">クライアントを表すために使用される Windows 資格情報に関連するプロパティを指定できます。</span>
      <span class="sxs-lookup">
        <span data-stu-id="c3051-101">Allows you to specify properties related to Windows credentials to be used to represent the client.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c3051-102"><xref:System.ServiceModel.Security.WindowsClientCredential> を使用して、サービスと通信するときに使用する Windows クライアントのプロパティを設定できます。</span><span class="sxs-lookup"><span data-stu-id="c3051-102">The <xref:System.ServiceModel.Security.WindowsClientCredential> enables the setting of Windows client properties used when communicating with a service.</span></span> <span data-ttu-id="c3051-103"><xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> は、クライアントを偽装するときにサービスが利用できる偽装のレベルを設定します。</span><span class="sxs-lookup"><span data-stu-id="c3051-103">The <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> sets the level of impersonation the service can assume when impersonating the client.</span></span> <span data-ttu-id="c3051-104"><xref:System.ServiceModel.Security.WindowsClientCredential.ClientCredential%2A> は、クライアントがユーザー名とパスワードを使用してサービスから認証を受けられるようにします。</span><span class="sxs-lookup"><span data-stu-id="c3051-104">The <xref:System.ServiceModel.Security.WindowsClientCredential.ClientCredential%2A> enables a client to authenticate with username and password to the service.</span></span> <span data-ttu-id="c3051-105"><xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> は、Kerberos が使用されていない場合にクライアントの認証に NTLM を使用できるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="c3051-105">The <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> determines whether NTLM can be used to authenticate the client if Kerberos is not used.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="c3051-106">クライアントを作成し、<xref:System.ServiceModel.Security.WindowsClientCredential> への参照を取得する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="c3051-106">The following example creates a client and gets a reference to the <xref:System.ServiceModel.Security.WindowsClientCredential>.</span></span> <span data-ttu-id="c3051-107">コードでは、その後、<xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> を新しい値に変更します。</span><span class="sxs-lookup"><span data-stu-id="c3051-107">The code then changes the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> to a new value.</span></span>  
  
 [!code-csharp[WindowsClientCredential#1](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#1)]
 [!code-vb[WindowsClientCredential#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/windowsclientcredential/vb/source.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="AllowedImpersonationLevel">
      <MemberSignature Language="C#" Value="public System.Security.Principal.TokenImpersonationLevel AllowedImpersonationLevel { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Security.Principal.TokenImpersonationLevel AllowedImpersonationLevel" />
      <MemberSignature Language="DocId" Value="P:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel" />
      <MemberSignature Language="VB.NET" Value="Public Property AllowedImpersonationLevel As TokenImpersonationLevel" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Security::Principal::TokenImpersonationLevel AllowedImpersonationLevel { System::Security::Principal::TokenImpersonationLevel get(); void set(System::Security::Principal::TokenImpersonationLevel value); };" />
      <MemberSignature Language="F#" Value="member this.AllowedImpersonationLevel : System.Security.Principal.TokenImpersonationLevel with get, set" Usage="System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Principal.TokenImpersonationLevel</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="c3051-108">許可される偽装レベルを取得または設定します。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-108">Gets or sets the allowed impersonation level.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="c3051-109">
            <see cref="T:System.Security.Principal.TokenImpersonationLevel" /> 値のいずれか 1 つ。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-109">One of the <see cref="T:System.Security.Principal.TokenImpersonationLevel" /> values.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c3051-110">このプロパティは、Windows SSPI ネゴシエート認証の使用時にクライアントがサーバーに付与する偽装レベルを指定します。</span><span class="sxs-lookup"><span data-stu-id="c3051-110">This property specifies the impersonation level granted by the client to the server when using Windows SSPI Negotiate authentication.</span></span> <span data-ttu-id="c3051-111">サーバーがクライアント トークンを偽装するときに取得する偽装レベルは、この設定だけに依存するわけではありません。</span><span class="sxs-lookup"><span data-stu-id="c3051-111">Note that the impersonation level obtained by the server when it impersonates the client token is not solely a function of this setting.</span></span> <span data-ttu-id="c3051-112">サービスが実行されているアカウントの関連付けられている特権やドメインの設定にも依存します。</span><span class="sxs-lookup"><span data-stu-id="c3051-112">It is also a function of the associated privileges and domain settings for the account in which the service is running.</span></span>  
  
 <span data-ttu-id="c3051-113">クライアントは、このプロパティを使って、許可される偽装レベルを明示的に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3051-113">The client must explicitly set the allowed impersonation level using this property.</span></span>  
  
 <span data-ttu-id="c3051-114">クライアントが匿名偽装レベルを指定した場合、サービスで偽装が実行されなくても、クライアントは常に匿名ユーザーとしてサービスから認証されます。</span><span class="sxs-lookup"><span data-stu-id="c3051-114">When the client specifies anonymous impersonation the client always authenticates to the service as anonymous even when no impersonation is performed on the service.</span></span> <span data-ttu-id="c3051-115">これは、基になる Windows オペレーティング システムの動作によるものです。</span><span class="sxs-lookup"><span data-stu-id="c3051-115">This is due to underlying Windows operating system behavior.</span></span>  
  
 <span data-ttu-id="c3051-116">Windows の権限借用の詳細についてを参照してください[偽装と復帰](http://go.microsoft.com/fwlink/?LinkId=96178)します。</span><span class="sxs-lookup"><span data-stu-id="c3051-116">For more information about Windows impersonation, go to [Impersonating and Reverting](http://go.microsoft.com/fwlink/?LinkId=96178).</span></span> <span data-ttu-id="c3051-117">Windows Communication Foundation を使用して権限借用の詳細については、次を参照してください。[委任と偽装](~/docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)します。</span><span class="sxs-lookup"><span data-stu-id="c3051-117">For more information about impersonation using Windows Communication Foundation, see [Delegation and Impersonation](~/docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="c3051-118">このプロパティを設定する方法を次の例に示します。</span><span class="sxs-lookup"><span data-stu-id="c3051-118">The following example shows how to set this property.</span></span>  
  
 [!code-csharp[WindowsClientCredential#1](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#1)]
 [!code-vb[WindowsClientCredential#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/windowsclientcredential/vb/source.vb#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AllowNtlm">
      <MemberSignature Language="C#" Value="public bool AllowNtlm { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AllowNtlm" />
      <MemberSignature Language="DocId" Value="P:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm" />
      <MemberSignature Language="VB.NET" Value="Public Property AllowNtlm As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool AllowNtlm { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.AllowNtlm : bool with get, set" Usage="System.ServiceModel.Security.WindowsClientCredential.AllowNtlm" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="c3051-119">Windows SSPI ネゴシエート認証時に NTLM 認証を許可するかどうかを示す値を取得または設定します。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-119">Gets or sets a value that indicates whether NTLM authentication should be allowed as Windows SSPI Negotiate authentication.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="c3051-120">Windows SSPI ネゴシエート認証時に NTLM 認証を許可する場合は <see langword="true" />、それ以外の場合は <see langword="false" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-120">
              <see langword="true" /> if NTLM authentication should be allowed as Windows SSPI Negotiate authentication, <see langword="false" /> otherwise.</span>
          </span>
          <span data-ttu-id="c3051-121">既定値は、<see langword="true" /> です。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-121">The default is <see langword="true" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c3051-122">このプロパティを `true` に設定すると、Kerberos 認証を利用できない場合、NTLM 認証にダウングレードできます。</span><span class="sxs-lookup"><span data-stu-id="c3051-122">Setting this property to `true` allows authentication to downgrade to NTLM if Kerberos is not available.</span></span>  
  
 <span data-ttu-id="c3051-123">このプロパティを設定`false`させるベスト エフォートで NTLM が使用されている場合に例外をスローするように、Windows Communication Foundation (WCF) が発生します。</span><span class="sxs-lookup"><span data-stu-id="c3051-123">Setting this property to `false` causes Windows Communication Foundation (WCF) to make a best-effort to throw an exception if NTLM is used.</span></span> <span data-ttu-id="c3051-124">ただし、このプロパティを `false` に設定しても、ネットワーク経由で NTLM 資格情報が送信されなくなるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="c3051-124">Note that setting this property to `false` may not prevent NTLM credentials from being sent over the wire.</span></span>  
  
 <span data-ttu-id="c3051-125">ワークグループやローカル アカウントなどの一部の展開では NTLM 認証が必要です。</span><span class="sxs-lookup"><span data-stu-id="c3051-125">Certain deployments such as workgroups and local accounts require NTLM authentication.</span></span> <span data-ttu-id="c3051-126">このフラグを設定`false`で WCF を使用する場合、認証エラーには、このような展開結果。</span><span class="sxs-lookup"><span data-stu-id="c3051-126">Setting this flag to `false` in such deployments result in authentication failures when using WCF.</span></span> <span data-ttu-id="c3051-127">相互認証 (Kerberos のみでサポート) を必要とする展開では、このフラグを `false` に設定します。</span><span class="sxs-lookup"><span data-stu-id="c3051-127">In a deployment that requires mutual authentication (only supported by Kerberos), set this flag to `false`.</span></span>  
  
 <span data-ttu-id="c3051-128">NTLM (Windows NT LAN Manager) は、Windows NT オペレーティング システムを実行するシステムを含むネットワーク、およびスタンドアロン システムで使用される認証プロトコルです。</span><span class="sxs-lookup"><span data-stu-id="c3051-128">NTLM (Windows NT LAN Manager) is the authentication protocol used on networks that include systems running the Windows NT operating system, and on stand-alone systems.</span></span>  
  
 <span data-ttu-id="c3051-129">Microsoft Kerberos セキュリティ パッケージを使用すると、NTLM と比較してネットワーク上のシステムのセキュリティを大幅に強化できます。</span><span class="sxs-lookup"><span data-stu-id="c3051-129">The Microsoft Kerberos security package adds greater security than NTLM to systems on a network.</span></span> <span data-ttu-id="c3051-130">Microsoft Kerberos には、任意のプロトコルが、NTLM はまだサポートされているし、およびスタンドアロン システム上のネットワークには、Windows NT 4.0 と以前のバージョンを実行しているシステムが含まれている場合、ネットワーク認証のために使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3051-130">Although Microsoft Kerberos is the protocol of choice, NTLM is still supported and must be used for network authentication if the network includes systems running versions of Windows NT 4.0 and earlier, and on stand-alone systems.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ClientCredential">
      <MemberSignature Language="C#" Value="public System.Net.NetworkCredential ClientCredential { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Net.NetworkCredential ClientCredential" />
      <MemberSignature Language="DocId" Value="P:System.ServiceModel.Security.WindowsClientCredential.ClientCredential" />
      <MemberSignature Language="VB.NET" Value="Public Property ClientCredential As NetworkCredential" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Net::NetworkCredential ^ ClientCredential { System::Net::NetworkCredential ^ get(); void set(System::Net::NetworkCredential ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ClientCredential : System.Net.NetworkCredential with get, set" Usage="System.ServiceModel.Security.WindowsClientCredential.ClientCredential" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.ServiceModel.Primitives</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Net.NetworkCredential</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="c3051-131">Windows クライアント資格情報を取得または設定します。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-131">Gets or sets the Windows client credential.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="c3051-132">クライアントの <see cref="T:System.Net.NetworkCredential" />。</span>
          <span class="sxs-lookup">
            <span data-stu-id="c3051-132">The <see cref="T:System.Net.NetworkCredential" /> for the client.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="c3051-133">既定では、現在のスレッドの資格情報は、Windows SSPI ネゴシエート認証を行うための WCF によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="c3051-133">By default, the current thread's credentials are used by WCF for doing Windows SSPI Negotiate authentication.</span></span>  
  
 <span data-ttu-id="c3051-134">クライアントを別のプリンシパルとして認証するには、このプロパティによって返される <xref:System.Net.NetworkCredential> クラスのインスタンスのプロパティを変更します。</span><span class="sxs-lookup"><span data-stu-id="c3051-134">To authenticate the client as another principal, change the properties of the instance of the <xref:System.Net.NetworkCredential> class that is returned by this property.</span></span> <span data-ttu-id="c3051-135">または、<xref:System.Net.NetworkCredential> クラスの新しいインスタンスを作成し、このプロパティに割り当てます。</span><span class="sxs-lookup"><span data-stu-id="c3051-135">Alternatively, create a new instance of the <xref:System.Net.NetworkCredential> class and assign it to this property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="c3051-136">クライアントを別のプリンシパルとして認証する方法を次のコード例に示します。</span><span class="sxs-lookup"><span data-stu-id="c3051-136">The following code examples show how to authenticate the client as a different principal.</span></span>  
  
 <span data-ttu-id="c3051-137">このプロパティによって返される <xref:System.Net.NetworkCredential> クラスのインスタンスのプロパティを変更する方法を次に示します。</span><span class="sxs-lookup"><span data-stu-id="c3051-137">This is how to change the properties of the instance of the <xref:System.Net.NetworkCredential> class that is returned by this property.</span></span>  
  
 [!code-csharp[WindowsClientCredential#2](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#2)]  
  
 <span data-ttu-id="c3051-138"><xref:System.Net.NetworkCredential> クラスの新しいインスタンスを作成し、このプロパティに割り当てる方法を次に示します。</span><span class="sxs-lookup"><span data-stu-id="c3051-138">This is how to create a new instance of the <xref:System.Net.NetworkCredential> class and assign it to this property.</span></span>  
  
 [!code-csharp[WindowsClientCredential#3](~/samples/snippets/csharp/VS_Snippets_CFX/windowsclientcredential/cs/source.cs#3)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>