### <a name="horizontal-scrolling-and-virtualization"></a><span data-ttu-id="888db-101">水平方向にスクロールし、仮想化</span><span class="sxs-lookup"><span data-stu-id="888db-101">Horizontal scrolling and virtualization</span></span>

|   |   |
|---|---|
|<span data-ttu-id="888db-102">説明</span><span class="sxs-lookup"><span data-stu-id="888db-102">Details</span></span>|<span data-ttu-id="888db-103">この変更に適用されます、<xref:System.Windows.Controls.ItemsControl?displayProperty=name>直交するメインのスクロール方向の方向に独自の仮想化を行うこと (最高の例は<xref:System.Windows.Controls.DataGrid?displayProperty=name>EnableColumnVirtualization =&quot;True&quot;)。</span><span class="sxs-lookup"><span data-stu-id="888db-103">This change applies to an <xref:System.Windows.Controls.ItemsControl?displayProperty=name> that does its own virtualization in the direction orthogonal to the main scrolling direction (the chief example is <xref:System.Windows.Controls.DataGrid?displayProperty=name> with EnableColumnVirtualization=&quot;True&quot;).</span></span>  <span data-ttu-id="888db-104">より直感的な比較の垂直方向の操作の結果を結果を生成するために、特定の水平方向のスクロール操作の結果が変更されました。操作を含める&quot;スクロールは、ここ&quot;と&quot;右端&quot;、水平スクロール バーを右クリックして、メニューの名前を使用します。</span><span class="sxs-lookup"><span data-stu-id="888db-104">The outcome of certain horizontal scrolling operations has been changed to produce results that are more intuitive and more analogous to the results of comparable vertical operations.The operations include &quot;Scroll Here&quot; and &quot;Right Edge&quot;, to use the names from the menu obtained by right-clicking a horizontal scrollbar.</span></span>  <span data-ttu-id="888db-105">これらの両方の計算、候補オフセットと呼び出し<xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>です。新しいオフセットの概念にスクロール後&quot;ここ&quot;または&quot;エッジを右&quot;の値を除外仮想化されたコンテンツが新しく変更されたために変更可能性がある<xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>です。 .Net 4.6.2 では、前に、スクロール操作だけを使用して候補のオフセットができない場合でも&quot;ここ&quot;または、&quot;エッジを右&quot;かを確認します。</span><span class="sxs-lookup"><span data-stu-id="888db-105">Both of these compute a candidate offset and call <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.After scrolling to the new offset, the notion of &quot;here&quot; or &quot;right edge&quot; may have changed because newly de-virtualized content has changed the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>.Prior to .Net 4.6.2, the scroll operation simply uses the candidate offset, even though it may not be &quot;here&quot; or at the &quot;right edge&quot; any more.</span></span>  <span data-ttu-id="888db-106">これは、結果などの効果で&quot;バウンス&quot;スクロールのスクロール ボックス、最適な例をします。</span><span class="sxs-lookup"><span data-stu-id="888db-106">This results in effects like &quot;bouncing&quot; the scroll thumb, best illustrated by example.</span></span> <span data-ttu-id="888db-107"><xref:System.Windows.Controls.DataGrid?displayProperty=name> ExtentWidth が = 1000 と幅 200 を = です。</span><span class="sxs-lookup"><span data-stu-id="888db-107">Suppose a <xref:System.Windows.Controls.DataGrid?displayProperty=name> has ExtentWidth=1000 and Width=200.</span></span>  <span data-ttu-id="888db-108">スクロール&quot;右端&quot;1000 ~ 200 のオフセットは候補 800 を = です。</span><span class="sxs-lookup"><span data-stu-id="888db-108">A scroll to &quot;Right Edge&quot; uses candidate offset 1000 - 200 = 800.</span></span>  <span data-ttu-id="888db-109">そのオフセットまでスクロールして、中に新しい列は de; は仮想化たとえばは非常に広いできるように、 <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> 2000年に変更します。</span><span class="sxs-lookup"><span data-stu-id="888db-109">While scrolling to that offset, new columns are de- virtualized; let's suppose they are very wide, so that the <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> changes to 2000.</span></span>  <span data-ttu-id="888db-110">スクロールが HorizontalOffset で終わる = 800、およびつまみ&quot;bounces&quot;に中央のスクロール バーの正確に 800/2000 = 40%。変更では、新しい候補オフセットを再計算とこのような状況が発生すると、もう一度やり直してください。</span><span class="sxs-lookup"><span data-stu-id="888db-110">The scroll ends with HorizontalOffset=800, and the thumb &quot;bounces&quot; back to near the middle of the scrollbar - precisely at 800/2000 = 40%.The change is to recompute a new candidate offset when this situation occurs, and try again.</span></span> <span data-ttu-id="888db-111">(これは、どのように垂直方向のスクロール既に動作します)。変更には、エンド ユーザーより予測可能な直感的なエクスペリエンスが生成されますが、正確な値に依存するすべてのアプリにも影響でした<xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name>を明示的に呼び出すまたはエンドユーザーで呼び出されたかどうか、水平方向にスクロール後<xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>です。</span><span class="sxs-lookup"><span data-stu-id="888db-111">(This is how vertical scrolling works already.)The change produces a more predictable and intuitive experience for the end user, but it could also affect any app that depends on the exact value of <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> after a horizontal scroll, whether invoked by the end user or by an explicit call to <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.</span></span>|
|<span data-ttu-id="888db-112">提案される解決策</span><span class="sxs-lookup"><span data-stu-id="888db-112">Suggestion</span></span>|<span data-ttu-id="888db-113">予測値を使用するアプリ<xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name>実際の値をフェッチに変更する必要があります (の値と<xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) に影響する任意の水平スクロール後<xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>除外仮想化のためです。</span><span class="sxs-lookup"><span data-stu-id="888db-113">An app that uses a predicted value for <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> should be changed to fetch the actual value (and the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) after any horizontal scroll that could change <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> due to de-virtualization.</span></span>|
|<span data-ttu-id="888db-114">スコープ</span><span class="sxs-lookup"><span data-stu-id="888db-114">Scope</span></span>|<span data-ttu-id="888db-115">マイナー</span><span class="sxs-lookup"><span data-stu-id="888db-115">Minor</span></span>|
|<span data-ttu-id="888db-116">Version</span><span class="sxs-lookup"><span data-stu-id="888db-116">Version</span></span>|<span data-ttu-id="888db-117">4.6.2</span><span class="sxs-lookup"><span data-stu-id="888db-117">4.6.2</span></span>|
|<span data-ttu-id="888db-118">型</span><span class="sxs-lookup"><span data-stu-id="888db-118">Type</span></span>|<span data-ttu-id="888db-119">ランタイム</span><span class="sxs-lookup"><span data-stu-id="888db-119">Runtime</span></span>|
|<span data-ttu-id="888db-120">影響を受ける API</span><span class="sxs-lookup"><span data-stu-id="888db-120">Affected APIs</span></span>|<ul><li><xref:System.Windows.Controls.Primitives.IScrollInfo?displayProperty=nameWithType></li></ul>|

