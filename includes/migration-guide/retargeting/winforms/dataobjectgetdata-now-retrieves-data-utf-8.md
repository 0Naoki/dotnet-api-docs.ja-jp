### <a name="dataobjectgetdata-now-retrieves-data-as-utf-8"></a><span data-ttu-id="e30cf-101">DataObject.GetData は utf-8 としてデータを取得するようになりました</span><span class="sxs-lookup"><span data-stu-id="e30cf-101">DataObject.GetData now retrieves data as UTF-8</span></span>

|   |   |
|---|---|
|<span data-ttu-id="e30cf-102">説明</span><span class="sxs-lookup"><span data-stu-id="e30cf-102">Details</span></span>|<span data-ttu-id="e30cf-103">対象とする .NET Framework 4 または .NET Framework 4.5.1 またはそれ以前のバージョンで実行されるアプリの<code>DataObject.GetData</code>HTML 形式のデータを ASCII 文字列として取得します。</span><span class="sxs-lookup"><span data-stu-id="e30cf-103">For apps that target the .NET Framework 4 or that run on the .NET Framework 4.5.1 or earlier versions, <code>DataObject.GetData</code> retrieves HTML-formatted data as an ASCII string.</span></span> <span data-ttu-id="e30cf-104">その結果、非 ASCII 文字 (ASCII コードが 0x7F よりも大きい文字) は、次の 2 つのランダムな文字で表されます。 .NET Framework 4.5 またはそれ以降と .NET Framework 4.5.2 で実行を対象とするアプリの<code>DataObject.GetData</code>0x7F よりも大きい文字を正しく表している utf-8 として HTML 形式のデータを取得します。</span><span class="sxs-lookup"><span data-stu-id="e30cf-104">As a result, non-ASCII characters (characters whose ASCII codes are greater than 0x7F) are represented by two random characters.For apps that target the .NET Framework 4.5 or later and run on the .NET Framework 4.5.2, <code>DataObject.GetData</code> retrieves HTML-formatted data as UTF-8, which represents characters greater than 0x7F correctly.</span></span>|
|<span data-ttu-id="e30cf-105">提案される解決策</span><span class="sxs-lookup"><span data-stu-id="e30cf-105">Suggestion</span></span>|<span data-ttu-id="e30cf-106">HTML 形式の文字列を使用するエンコーディングの問題を回避する方法を実装したかどうか (たとえば、HTML 文字列を明示的にエンコードすることによって、クリップボードから渡すことによって取得に<xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) バージョン 4 から 4.5 へアプリを再ターゲットしているとします。回避策を削除する必要があります。従来の動作は、何らかの理由により必要なアプリはその動作を実現する、.NET Framework 4.0 を対象することができます。</span><span class="sxs-lookup"><span data-stu-id="e30cf-106">If you implemented a workaround for the encoding problem with HTML-formatted strings (for example, by explicitly encoding the HTML string retrieved from the Clipboard by passing it to <xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) and you're retargeting your app from version 4 to 4.5, that workaround should be removed.If the old behavior is needed for some reason, the app can target the .NET Framework 4.0 to get that behavior.</span></span>|
|<span data-ttu-id="e30cf-107">スコープ</span><span class="sxs-lookup"><span data-stu-id="e30cf-107">Scope</span></span>|<span data-ttu-id="e30cf-108">エッジ</span><span class="sxs-lookup"><span data-stu-id="e30cf-108">Edge</span></span>|
|<span data-ttu-id="e30cf-109">Version</span><span class="sxs-lookup"><span data-stu-id="e30cf-109">Version</span></span>|<span data-ttu-id="e30cf-110">4.5.2</span><span class="sxs-lookup"><span data-stu-id="e30cf-110">4.5.2</span></span>|
|<span data-ttu-id="e30cf-111">型</span><span class="sxs-lookup"><span data-stu-id="e30cf-111">Type</span></span>|<span data-ttu-id="e30cf-112">再ターゲット中</span><span class="sxs-lookup"><span data-stu-id="e30cf-112">Retargeting</span></span>|
|<span data-ttu-id="e30cf-113">影響を受ける API</span><span class="sxs-lookup"><span data-stu-id="e30cf-113">Affected APIs</span></span>|<ul><li><xref:System.Windows.DataObject.GetData(System.String)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.Type)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.String,System.Boolean)?displayProperty=nameWithType></li></ul>|

