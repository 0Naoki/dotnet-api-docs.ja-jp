### <a name="systemuri-parsing-adheres-to-rfc-3987"></a><span data-ttu-id="ee750-101">RFC 3987 に準拠して System.Uri の解析</span><span class="sxs-lookup"><span data-stu-id="ee750-101">System.Uri parsing adheres to RFC 3987</span></span>

|   |   |
|---|---|
|<span data-ttu-id="ee750-102">説明</span><span class="sxs-lookup"><span data-stu-id="ee750-102">Details</span></span>|<span data-ttu-id="ee750-103">.NET 4.5 では、URI 解析がいくつかの点で変更されました。</span><span class="sxs-lookup"><span data-stu-id="ee750-103">URI parsing has changed in several ways in .NET 4.5.</span></span> <span data-ttu-id="ee750-104">ただし、これらの変更は .NET 4.5 を対象としたコードのみに影響することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="ee750-104">Note, however, that these changes only affect code targeting .NET 4.5.</span></span> <span data-ttu-id="ee750-105">バイナリが .NET 4.0 を対象としている場合、以前の動作が実行されます。</span><span class="sxs-lookup"><span data-stu-id="ee750-105">If a binary targets .NET 4.0, the old behavior will be observed.</span></span> <span data-ttu-id="ee750-106">.NET 4.5 での URI 解析の変更は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="ee750-106">Changes to URI parsing in .NET 4.5 include:</span></span><ul><li><span data-ttu-id="ee750-107">URI の解析は、正規化および RFC 3987 で最新の IRI 規則に従ってチェック文字に実行されます。</span><span class="sxs-lookup"><span data-stu-id="ee750-107">URI parsing will perform normalization and character checking according to the latest IRI rules in RFC 3987.</span></span></li><li><span data-ttu-id="ee750-108">Unicode 正規形 C は、URI のホスト部分でのみ実行されます。</span><span class="sxs-lookup"><span data-stu-id="ee750-108">Unicode normalization form C will only be performed on the host portion of the URI.</span></span></li><li><span data-ttu-id="ee750-109">無効な mailto: Uri は、例外が発生するようになりました。</span><span class="sxs-lookup"><span data-stu-id="ee750-109">Invalid mailto: URIs will now cause an exception.</span></span></li><li><span data-ttu-id="ee750-110">パス セグメントの最後に末尾のドットは今すぐ保存されます。</span><span class="sxs-lookup"><span data-stu-id="ee750-110">Trailing dots at the end of a path segment are now preserved.</span></span></li><li><span data-ttu-id="ee750-111"><code>file://</code> Uri がエスケープしない、<code>?</code>文字です。</span><span class="sxs-lookup"><span data-stu-id="ee750-111"><code>file://</code> URIs do not escape the <code>?</code> character.</span></span></li><li><span data-ttu-id="ee750-112">Unicode 制御文字<code>U+0080</code>を通じて<code>U+009F</code>はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="ee750-112">Unicode control characters <code>U+0080</code> through <code>U+009F</code> are not supported.</span></span></li><li><span data-ttu-id="ee750-113">コンマ文字<code>,</code>または<code>%2c</code>は自動的にエスケープ解除されません。</span><span class="sxs-lookup"><span data-stu-id="ee750-113">Comma characters <code>,</code> or <code>%2c</code> are not automatically unescaped.</span></span></li></ul>|
|<span data-ttu-id="ee750-114">提案される解決策</span><span class="sxs-lookup"><span data-stu-id="ee750-114">Suggestion</span></span>|<span data-ttu-id="ee750-115">古い .NET 4.0 URI 解析セマンティクスが必要な場合 (めったにありません)、.NET 4.0 を対象とすることによって使用できます。</span><span class="sxs-lookup"><span data-stu-id="ee750-115">If the old .NET 4.0 URI parsing semantics are necessary (they often aren't), they can be used by targeting .NET 4.0.</span></span> <span data-ttu-id="ee750-116">これを使用して、<xref:System.Runtime.Versioning.TargetFrameworkAttribute?displayProperty=name>アセンブリ、または 'プロジェクトのプロパティ ページで、Visual Studio のプロジェクト システム UI。</span><span class="sxs-lookup"><span data-stu-id="ee750-116">This can be accomplished by using a <xref:System.Runtime.Versioning.TargetFrameworkAttribute?displayProperty=name> on the assembly, or through Visual Studio's project system UI in the 'project properties' page.</span></span>|
|<span data-ttu-id="ee750-117">スコープ</span><span class="sxs-lookup"><span data-stu-id="ee750-117">Scope</span></span>|<span data-ttu-id="ee750-118">Major</span><span class="sxs-lookup"><span data-stu-id="ee750-118">Major</span></span>|
|<span data-ttu-id="ee750-119">バージョン</span><span class="sxs-lookup"><span data-stu-id="ee750-119">Version</span></span>|<span data-ttu-id="ee750-120">4.5</span><span class="sxs-lookup"><span data-stu-id="ee750-120">4.5</span></span>|
|<span data-ttu-id="ee750-121">型</span><span class="sxs-lookup"><span data-stu-id="ee750-121">Type</span></span>|<span data-ttu-id="ee750-122">再ターゲット中</span><span class="sxs-lookup"><span data-stu-id="ee750-122">Retargeting</span></span>|
|<span data-ttu-id="ee750-123">影響を受ける API</span><span class="sxs-lookup"><span data-stu-id="ee750-123">Affected APIs</span></span>|<ul><li><xref:System.Uri.%23ctor(System.String)?displayProperty=nameWithType></li><li><xref:System.Uri.%23ctor(System.String,System.Boolean)?displayProperty=nameWithType></li><li><xref:System.Uri.%23ctor(System.String,System.UriKind)?displayProperty=nameWithType></li><li><xref:System.Uri.%23ctor(System.Uri,System.String)?displayProperty=nameWithType></li><li><xref:System.Uri.TryCreate(System.String,System.UriKind,System.Uri@)?displayProperty=nameWithType></li><li><xref:System.Uri.TryCreate(System.Uri,System.String,System.Uri@)?displayProperty=nameWithType></li><li><xref:System.Uri.TryCreate(System.Uri,System.Uri,System.Uri@)?displayProperty=nameWithType></li></ul>|

